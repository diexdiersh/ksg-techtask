# Документация API

В приложении используется swagger, он доступен по пути: `/docs`

## Эндпоинты

### 1. Эндпоинты пользователей

#### GET /user

Получает информацию о пользователе.

- **Параметры запроса:**
  - `userId` (string, обязательный): Уникальный идентификатор пользователя.
  
- **Ответ:**
  - **200 OK:** Возвращает информацию о пользователе.
  - **404 Not Found:** Если пользователь не найден.
  - **Схема ответа:**
    - `userId` (string): Идентификатор пользователя.
    - `balance` (number): Текущий баланс пользователя.
    - `createdAt` (string): Timestamp создания пользователя
    - `updateAt` (string): Timestamp обновления пользователя

- **Пример запроса:**

```sh
  curl -X GET http://localhost:3000/user?userId=123
```

#### POST /user/register

Регистрирует нового пользователя.

- **Ответ:**
  - **201 Created:** Возвращает информацию о созданном пользователе.
  - **Схема ответа:**
    - `userId` (string): Идентификатор вновь созданного пользователя.
    - `balance` (number): Баланс пользователя.
    - `createdAt` (string): Timestamp создания пользователя
    - `updateAt` (string): Timestamp обновления пользователя

- **Пример запроса:**
-

```sh
  curl -X POST http://localhost:3000/user/register
```

#### POST /user/deposit

Делает депозит на счет пользователя.

- **Параметры запроса:**
  - `userId` (string, обязательный): Уникальный идентификатор пользователя.
  - `value` (number, обязательный): Сумма депозита.
  
- **Ответ:**
  - **201 Created:** Возвращает обновленную информацию о пользователе.
  - **404 Not Found:** Если пользователь не найден.
  - **Схема ответа:**
    - `userId` (string): Идентификатор пользователя.
    - `balance` (number): Обновленный баланс после депозита.
    - `createdAt` (string): Timestamp создания пользователя
    - `updateAt` (string): Timestamp обновления пользователя
  
- **Пример запроса:**

```sh
  curl -X POST http://localhost:3000/user/deposit?userId=123&value=100
```

#### POST /user/buy

Осуществляет покупку от имени пользователя.

- **Параметры запроса:**
  - `userId` (string, обязательный): Уникальный идентификатор пользователя.
  - `value` (number, обязательный): Сумма для списания за покупку.
  
- **Ответ:**
  - **201 Created:** Возвращает обновленную информацию о пользователе.
  - **404 Not Found:** Если пользователь не найден.
  - **Схема ответа:**
    - `userId` (string): Идентификатор пользователя.
    - `balance` (number): Обновленный баланс после покупки.
    - `createdAt` (string): Timestamp создания пользователя
    - `updateAt` (string): Timestamp обновления пользователя
  
- **Пример запроса:**
-

```sh
  curl -X POST http://localhost:3000/user/buy?userId=123&value=50
```

### 2. Эндпоинты предметов

#### GET /items

Получает список предметов.

- **Параметры запроса:**
  - `appId` (number | number[], опционально): Идентификатор(ы) игры для поиска предметов.
  - `currency` (string, опционально): Валюта в которой будет возвращаться стоимость предметов.
  - `limit` (number, опционально): Ограничение на количество возвращаемых предметов.
  - `skip` (number, опционально): Количество предметов для пропуска.
  - `sortBy` (string, опционально): Поле для сортировки предметов.
  - `order` (string, опционально): Порядок сортировки, может быть `asc` или `desc`.
  
- **Ответ:**
  - **200 OK:** Возвращает список предметов.
  - **Схема ответа:** Массив предметов, где каждый элемент содержит:
    - `appId` (number): Идентификатор игры, к который принадлежит предмет
    - `marketName` (string): Название предмета.
    - `currency` (string): Валюта цены.
    - `tradeMinPrice` (number): Минимальная торговая цена предмета.
    - `price` (number): Минимальная цена предмета.

- **Пример запроса:**

```sh
  curl -X GET http://localhost:3000/items?appId=440&currency=USD&limit=10&sortBy=marketName&order=asc
```

### 3. Эндпоинт статуса

#### GET /status

Проверяет статус API.

- **Ответ:**
  - **200 OK:** Возвращает статус API.
  - **Схема ответа:**
    - `status` (string): Сообщение о статусе, обычно "ok".

- **Пример запроса:**

```sh
  curl -X GET http://localhost:3000/status
```
